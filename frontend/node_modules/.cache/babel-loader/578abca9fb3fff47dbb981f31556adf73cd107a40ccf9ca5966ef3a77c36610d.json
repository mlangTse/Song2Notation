{"ast":null,"code":"export class BoundingBoxComputation {\n  constructor() {\n    this.x1 = Number.NaN;\n    this.y1 = Number.NaN;\n    this.x2 = Number.NaN;\n    this.y2 = Number.NaN;\n  }\n  getX1() {\n    return this.x1;\n  }\n  getY1() {\n    return this.y1;\n  }\n  width() {\n    return this.x2 - this.x1;\n  }\n  height() {\n    return this.y2 - this.y1;\n  }\n  addPoint(x, y) {\n    if (isNaN(this.x1) || x < this.x1) this.x1 = x;\n    if (isNaN(this.x2) || x > this.x2) this.x2 = x;\n    if (isNaN(this.y1) || y < this.y1) this.y1 = y;\n    if (isNaN(this.y2) || y > this.y2) this.y2 = y;\n  }\n  addX(x) {\n    this.addPoint(x, this.y1);\n  }\n  addY(y) {\n    this.addPoint(this.x1, y);\n  }\n  addQuadraticCurve(p0x, p0y, p1x, p1y, p2x, p2y) {\n    this.addPoint(p0x, p0y);\n    this.addPoint(p2x, p2y);\n    const p01x = p1x - p0x;\n    const p12x = p2x - p1x;\n    let denom = p01x - p12x;\n    if (denom != 0) {\n      const t = p01x / denom;\n      if (t > 0 && t < 1) {\n        const it = 1 - t;\n        this.addX(it * it * p0x + 2 * it * t * p1x + t * t * p2x);\n      }\n    }\n    const p01y = p1y - p0y;\n    const p12y = p2y - p1y;\n    denom = p01y - p12y;\n    if (denom != 0) {\n      const t = p01y / denom;\n      if (t > 0 && t < 1) {\n        const it = 1 - t;\n        this.addY(it * it * p0y + 2 * it * t * p1y + t * t * p2y);\n      }\n    }\n  }\n  addBezierCurve(p0x, p0y, p1x, p1y, p2x, p2y, p3x, p3y) {\n    const p0 = [p0x, p0y];\n    const p1 = [p1x, p1y];\n    const p2 = [p2x, p2y];\n    const p3 = [p3x, p3y];\n    let i;\n    this.addPoint(p0[0], p0[1]);\n    this.addPoint(p3[0], p3[1]);\n    const f = (t, i) => Math.pow(1 - t, 3) * p0[i] + 3 * Math.pow(1 - t, 2) * t * p1[i] + 3 * (1 - t) * Math.pow(t, 2) * p2[i] + Math.pow(t, 3) * p3[i];\n    for (i = 0; i <= 1; i++) {\n      const b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\n      const a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\n      const c = 3 * p1[i] - 3 * p0[i];\n      if (a === 0) {\n        if (b === 0) continue;\n        const t = -c / b;\n        if (0 < t && t < 1) {\n          if (i === 0) this.addX(f(t, i));\n          if (i === 1) this.addY(f(t, i));\n        }\n        continue;\n      }\n      const b2ac = Math.pow(b, 2) - 4 * c * a;\n      if (b2ac < 0) continue;\n      const t1 = (-b + Math.sqrt(b2ac)) / (2 * a);\n      if (0 < t1 && t1 < 1) {\n        if (i === 0) this.addX(f(t1, i));\n        if (i === 1) this.addY(f(t1, i));\n      }\n      const t2 = (-b - Math.sqrt(b2ac)) / (2 * a);\n      if (0 < t2 && t2 < 1) {\n        if (i === 0) this.addX(f(t2, i));\n        if (i === 1) this.addY(f(t2, i));\n      }\n    }\n  }\n}","map":{"version":3,"names":["BoundingBoxComputation","constructor","x1","Number","NaN","y1","x2","y2","getX1","getY1","width","height","addPoint","x","y","isNaN","addX","addY","addQuadraticCurve","p0x","p0y","p1x","p1y","p2x","p2y","p01x","p12x","denom","t","it","p01y","p12y","addBezierCurve","p3x","p3y","p0","p1","p2","p3","i","f","Math","pow","b","a","c","b2ac","t1","sqrt","t2"],"sources":["/Users/lang/Documents/code/Song2Notation/frontend/node_modules/vexflow/build/esm/src/boundingboxcomputation.js"],"sourcesContent":["export class BoundingBoxComputation {\n    constructor() {\n        this.x1 = Number.NaN;\n        this.y1 = Number.NaN;\n        this.x2 = Number.NaN;\n        this.y2 = Number.NaN;\n    }\n    getX1() {\n        return this.x1;\n    }\n    getY1() {\n        return this.y1;\n    }\n    width() {\n        return this.x2 - this.x1;\n    }\n    height() {\n        return this.y2 - this.y1;\n    }\n    addPoint(x, y) {\n        if (isNaN(this.x1) || x < this.x1)\n            this.x1 = x;\n        if (isNaN(this.x2) || x > this.x2)\n            this.x2 = x;\n        if (isNaN(this.y1) || y < this.y1)\n            this.y1 = y;\n        if (isNaN(this.y2) || y > this.y2)\n            this.y2 = y;\n    }\n    addX(x) {\n        this.addPoint(x, this.y1);\n    }\n    addY(y) {\n        this.addPoint(this.x1, y);\n    }\n    addQuadraticCurve(p0x, p0y, p1x, p1y, p2x, p2y) {\n        this.addPoint(p0x, p0y);\n        this.addPoint(p2x, p2y);\n        const p01x = p1x - p0x;\n        const p12x = p2x - p1x;\n        let denom = p01x - p12x;\n        if (denom != 0) {\n            const t = p01x / denom;\n            if (t > 0 && t < 1) {\n                const it = 1 - t;\n                this.addX(it * it * p0x + 2 * it * t * p1x + t * t * p2x);\n            }\n        }\n        const p01y = p1y - p0y;\n        const p12y = p2y - p1y;\n        denom = p01y - p12y;\n        if (denom != 0) {\n            const t = p01y / denom;\n            if (t > 0 && t < 1) {\n                const it = 1 - t;\n                this.addY(it * it * p0y + 2 * it * t * p1y + t * t * p2y);\n            }\n        }\n    }\n    addBezierCurve(p0x, p0y, p1x, p1y, p2x, p2y, p3x, p3y) {\n        const p0 = [p0x, p0y];\n        const p1 = [p1x, p1y];\n        const p2 = [p2x, p2y];\n        const p3 = [p3x, p3y];\n        let i;\n        this.addPoint(p0[0], p0[1]);\n        this.addPoint(p3[0], p3[1]);\n        const f = (t, i) => Math.pow(1 - t, 3) * p0[i] +\n            3 * Math.pow(1 - t, 2) * t * p1[i] +\n            3 * (1 - t) * Math.pow(t, 2) * p2[i] +\n            Math.pow(t, 3) * p3[i];\n        for (i = 0; i <= 1; i++) {\n            const b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\n            const a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\n            const c = 3 * p1[i] - 3 * p0[i];\n            if (a === 0) {\n                if (b === 0)\n                    continue;\n                const t = -c / b;\n                if (0 < t && t < 1) {\n                    if (i === 0)\n                        this.addX(f(t, i));\n                    if (i === 1)\n                        this.addY(f(t, i));\n                }\n                continue;\n            }\n            const b2ac = Math.pow(b, 2) - 4 * c * a;\n            if (b2ac < 0)\n                continue;\n            const t1 = (-b + Math.sqrt(b2ac)) / (2 * a);\n            if (0 < t1 && t1 < 1) {\n                if (i === 0)\n                    this.addX(f(t1, i));\n                if (i === 1)\n                    this.addY(f(t1, i));\n            }\n            const t2 = (-b - Math.sqrt(b2ac)) / (2 * a);\n            if (0 < t2 && t2 < 1) {\n                if (i === 0)\n                    this.addX(f(t2, i));\n                if (i === 1)\n                    this.addY(f(t2, i));\n            }\n        }\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}