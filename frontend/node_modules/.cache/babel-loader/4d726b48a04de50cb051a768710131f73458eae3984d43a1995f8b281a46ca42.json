{"ast":null,"code":"import React,{useEffect,useRef}from\"react\";import{Renderer,Stave,StaveNote,Formatter}from\"vexflow\";import{jsx as _jsx}from\"react/jsx-runtime\";function NotationViewer(_ref){let{musicXmlPath}=_ref;const containerRef=useRef();useEffect(()=>{if(!musicXmlPath)return;const renderNotation=async()=>{const response=await fetch(musicXmlPath);const musicData=await response.text();// Example rendering of static notes (replace with MusicXML parsing)\nconst vf=new Renderer(containerRef.current,Renderer.Backends.SVG);vf.resize(500,200);const context=vf.getContext();const stave=new Stave(10,40,400);stave.addClef(\"treble\").addTimeSignature(\"4/4\");stave.setContext(context).draw();const notes=[new StaveNote({keys:[\"c/4\"],duration:\"q\"}),new StaveNote({keys:[\"d/4\"],duration:\"q\"}),new StaveNote({keys:[\"e/4\"],duration:\"q\"}),new StaveNote({keys:[\"f/4\"],duration:\"q\"})];Formatter.FormatAndDraw(context,stave,notes);};renderNotation();},[musicXmlPath]);return/*#__PURE__*/_jsx(\"div\",{ref:containerRef});}export default NotationViewer;","map":{"version":3,"names":["React","useEffect","useRef","Renderer","Stave","StaveNote","Formatter","jsx","_jsx","NotationViewer","_ref","musicXmlPath","containerRef","renderNotation","response","fetch","musicData","text","vf","current","Backends","SVG","resize","context","getContext","stave","addClef","addTimeSignature","setContext","draw","notes","keys","duration","FormatAndDraw","ref"],"sources":["/Users/lang/Documents/code/Song2Notation/frontend/src/components/NotationViewer.js"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport { Renderer, Stave, StaveNote, Formatter } from \"vexflow\";\n\nfunction NotationViewer({ musicXmlPath }) {\n  const containerRef = useRef();\n\n  useEffect(() => {\n    if (!musicXmlPath) return;\n\n    const renderNotation = async () => {\n      const response = await fetch(musicXmlPath);\n      const musicData = await response.text();\n\n      // Example rendering of static notes (replace with MusicXML parsing)\n      const vf = new Renderer(containerRef.current, Renderer.Backends.SVG);\n      vf.resize(500, 200);\n      const context = vf.getContext();\n      const stave = new Stave(10, 40, 400);\n      stave.addClef(\"treble\").addTimeSignature(\"4/4\");\n      stave.setContext(context).draw();\n\n      const notes = [\n        new StaveNote({ keys: [\"c/4\"], duration: \"q\" }),\n        new StaveNote({ keys: [\"d/4\"], duration: \"q\" }),\n        new StaveNote({ keys: [\"e/4\"], duration: \"q\" }),\n        new StaveNote({ keys: [\"f/4\"], duration: \"q\" }),\n      ];\n\n      Formatter.FormatAndDraw(context, stave, notes);\n    };\n\n    renderNotation();\n  }, [musicXmlPath]);\n\n  return <div ref={containerRef} />;\n}\n\nexport default NotationViewer;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAChD,OAASC,QAAQ,CAAEC,KAAK,CAAEC,SAAS,CAAEC,SAAS,KAAQ,SAAS,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEhE,QAAS,CAAAC,cAAcA,CAAAC,IAAA,CAAmB,IAAlB,CAAEC,YAAa,CAAC,CAAAD,IAAA,CACtC,KAAM,CAAAE,YAAY,CAAGV,MAAM,CAAC,CAAC,CAE7BD,SAAS,CAAC,IAAM,CACd,GAAI,CAACU,YAAY,CAAE,OAEnB,KAAM,CAAAE,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACJ,YAAY,CAAC,CAC1C,KAAM,CAAAK,SAAS,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAEvC;AACA,KAAM,CAAAC,EAAE,CAAG,GAAI,CAAAf,QAAQ,CAACS,YAAY,CAACO,OAAO,CAAEhB,QAAQ,CAACiB,QAAQ,CAACC,GAAG,CAAC,CACpEH,EAAE,CAACI,MAAM,CAAC,GAAG,CAAE,GAAG,CAAC,CACnB,KAAM,CAAAC,OAAO,CAAGL,EAAE,CAACM,UAAU,CAAC,CAAC,CAC/B,KAAM,CAAAC,KAAK,CAAG,GAAI,CAAArB,KAAK,CAAC,EAAE,CAAE,EAAE,CAAE,GAAG,CAAC,CACpCqB,KAAK,CAACC,OAAO,CAAC,QAAQ,CAAC,CAACC,gBAAgB,CAAC,KAAK,CAAC,CAC/CF,KAAK,CAACG,UAAU,CAACL,OAAO,CAAC,CAACM,IAAI,CAAC,CAAC,CAEhC,KAAM,CAAAC,KAAK,CAAG,CACZ,GAAI,CAAAzB,SAAS,CAAC,CAAE0B,IAAI,CAAE,CAAC,KAAK,CAAC,CAAEC,QAAQ,CAAE,GAAI,CAAC,CAAC,CAC/C,GAAI,CAAA3B,SAAS,CAAC,CAAE0B,IAAI,CAAE,CAAC,KAAK,CAAC,CAAEC,QAAQ,CAAE,GAAI,CAAC,CAAC,CAC/C,GAAI,CAAA3B,SAAS,CAAC,CAAE0B,IAAI,CAAE,CAAC,KAAK,CAAC,CAAEC,QAAQ,CAAE,GAAI,CAAC,CAAC,CAC/C,GAAI,CAAA3B,SAAS,CAAC,CAAE0B,IAAI,CAAE,CAAC,KAAK,CAAC,CAAEC,QAAQ,CAAE,GAAI,CAAC,CAAC,CAChD,CAED1B,SAAS,CAAC2B,aAAa,CAACV,OAAO,CAAEE,KAAK,CAAEK,KAAK,CAAC,CAChD,CAAC,CAEDjB,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,CAACF,YAAY,CAAC,CAAC,CAElB,mBAAOH,IAAA,QAAK0B,GAAG,CAAEtB,YAAa,CAAE,CAAC,CACnC,CAEA,cAAe,CAAAH,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}