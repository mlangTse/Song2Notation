{"ast":null,"code":"import { Font, FontStyle, FontWeight } from './font.js';\nimport { TabTie } from './tabtie.js';\nimport { RuntimeError } from './util.js';\nclass TabSlide extends TabTie {\n  static get CATEGORY() {\n    return \"TabSlide\";\n  }\n  static get SLIDE_UP() {\n    return 1;\n  }\n  static get SLIDE_DOWN() {\n    return -1;\n  }\n  static createSlideUp(notes) {\n    return new TabSlide(notes, TabSlide.SLIDE_UP);\n  }\n  static createSlideDown(notes) {\n    return new TabSlide(notes, TabSlide.SLIDE_DOWN);\n  }\n  constructor(notes, direction) {\n    super(notes, 'sl.');\n    if (!direction) {\n      let first_fret = notes.first_note.getPositions()[0].fret;\n      if (typeof first_fret === 'string') {\n        first_fret = parseInt(first_fret, 10);\n      }\n      let last_fret = notes.last_note.getPositions()[0].fret;\n      if (typeof last_fret === 'string') {\n        last_fret = parseInt(last_fret, 10);\n      }\n      if (isNaN(first_fret) || isNaN(last_fret)) {\n        direction = TabSlide.SLIDE_UP;\n      } else {\n        direction = first_fret > last_fret ? TabSlide.SLIDE_DOWN : TabSlide.SLIDE_UP;\n      }\n    }\n    this.direction = direction;\n    this.render_options.cp1 = 11;\n    this.render_options.cp2 = 14;\n    this.render_options.y_shift = 0.5;\n    this.resetFont();\n  }\n  renderTie(params) {\n    if (params.first_ys.length === 0 || params.last_ys.length === 0) {\n      throw new RuntimeError('BadArguments', 'No Y-values to render');\n    }\n    const ctx = this.checkContext();\n    const first_x_px = params.first_x_px;\n    const first_ys = params.first_ys;\n    const last_x_px = params.last_x_px;\n    const direction = params.direction;\n    if (direction !== TabSlide.SLIDE_UP && direction !== TabSlide.SLIDE_DOWN) {\n      throw new RuntimeError('BadSlide', 'Invalid slide direction');\n    }\n    const first_indices = this.notes.first_indices;\n    for (let i = 0; i < first_indices.length; ++i) {\n      const slide_y = first_ys[first_indices[i]] + this.render_options.y_shift;\n      if (isNaN(slide_y)) {\n        throw new RuntimeError('BadArguments', 'Bad indices for slide rendering.');\n      }\n      ctx.beginPath();\n      ctx.moveTo(first_x_px, slide_y + 3 * direction);\n      ctx.lineTo(last_x_px, slide_y - 3 * direction);\n      ctx.closePath();\n      ctx.stroke();\n    }\n    this.setRendered();\n  }\n}\nTabSlide.TEXT_FONT = {\n  family: Font.SERIF,\n  size: 10,\n  weight: FontWeight.BOLD,\n  style: FontStyle.ITALIC\n};\nexport { TabSlide };","map":{"version":3,"names":["Font","FontStyle","FontWeight","TabTie","RuntimeError","TabSlide","CATEGORY","SLIDE_UP","SLIDE_DOWN","createSlideUp","notes","createSlideDown","constructor","direction","first_fret","first_note","getPositions","fret","parseInt","last_fret","last_note","isNaN","render_options","cp1","cp2","y_shift","resetFont","renderTie","params","first_ys","length","last_ys","ctx","checkContext","first_x_px","last_x_px","first_indices","i","slide_y","beginPath","moveTo","lineTo","closePath","stroke","setRendered","TEXT_FONT","family","SERIF","size","weight","BOLD","style","ITALIC"],"sources":["/Users/lang/Documents/code/Song2Notation/frontend/node_modules/vexflow/build/esm/src/tabslide.js"],"sourcesContent":["import { Font, FontStyle, FontWeight } from './font.js';\nimport { TabTie } from './tabtie.js';\nimport { RuntimeError } from './util.js';\nclass TabSlide extends TabTie {\n    static get CATEGORY() {\n        return \"TabSlide\";\n    }\n    static get SLIDE_UP() {\n        return 1;\n    }\n    static get SLIDE_DOWN() {\n        return -1;\n    }\n    static createSlideUp(notes) {\n        return new TabSlide(notes, TabSlide.SLIDE_UP);\n    }\n    static createSlideDown(notes) {\n        return new TabSlide(notes, TabSlide.SLIDE_DOWN);\n    }\n    constructor(notes, direction) {\n        super(notes, 'sl.');\n        if (!direction) {\n            let first_fret = notes.first_note.getPositions()[0].fret;\n            if (typeof first_fret === 'string') {\n                first_fret = parseInt(first_fret, 10);\n            }\n            let last_fret = notes.last_note.getPositions()[0].fret;\n            if (typeof last_fret === 'string') {\n                last_fret = parseInt(last_fret, 10);\n            }\n            if (isNaN(first_fret) || isNaN(last_fret)) {\n                direction = TabSlide.SLIDE_UP;\n            }\n            else {\n                direction = first_fret > last_fret ? TabSlide.SLIDE_DOWN : TabSlide.SLIDE_UP;\n            }\n        }\n        this.direction = direction;\n        this.render_options.cp1 = 11;\n        this.render_options.cp2 = 14;\n        this.render_options.y_shift = 0.5;\n        this.resetFont();\n    }\n    renderTie(params) {\n        if (params.first_ys.length === 0 || params.last_ys.length === 0) {\n            throw new RuntimeError('BadArguments', 'No Y-values to render');\n        }\n        const ctx = this.checkContext();\n        const first_x_px = params.first_x_px;\n        const first_ys = params.first_ys;\n        const last_x_px = params.last_x_px;\n        const direction = params.direction;\n        if (direction !== TabSlide.SLIDE_UP && direction !== TabSlide.SLIDE_DOWN) {\n            throw new RuntimeError('BadSlide', 'Invalid slide direction');\n        }\n        const first_indices = this.notes.first_indices;\n        for (let i = 0; i < first_indices.length; ++i) {\n            const slide_y = first_ys[first_indices[i]] + this.render_options.y_shift;\n            if (isNaN(slide_y)) {\n                throw new RuntimeError('BadArguments', 'Bad indices for slide rendering.');\n            }\n            ctx.beginPath();\n            ctx.moveTo(first_x_px, slide_y + 3 * direction);\n            ctx.lineTo(last_x_px, slide_y - 3 * direction);\n            ctx.closePath();\n            ctx.stroke();\n        }\n        this.setRendered();\n    }\n}\nTabSlide.TEXT_FONT = {\n    family: Font.SERIF,\n    size: 10,\n    weight: FontWeight.BOLD,\n    style: FontStyle.ITALIC,\n};\nexport { TabSlide };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}