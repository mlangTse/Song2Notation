{"ast":null,"code":"import { Accidental } from './accidental.js';\nimport { Annotation, AnnotationHorizontalJustify, AnnotationVerticalJustify } from './annotation.js';\nimport { Articulation } from './articulation.js';\nimport { BarNote } from './barnote.js';\nimport { Beam } from './beam.js';\nimport { ChordSymbol } from './chordsymbol.js';\nimport { ClefNote } from './clefnote.js';\nimport { Curve } from './curve.js';\nimport { EasyScore } from './easyscore.js';\nimport { Element } from './element.js';\nimport { Formatter } from './formatter.js';\nimport { FretHandFinger } from './frethandfinger.js';\nimport { GhostNote } from './ghostnote.js';\nimport { GlyphNote } from './glyphnote.js';\nimport { GraceNote } from './gracenote.js';\nimport { GraceNoteGroup } from './gracenotegroup.js';\nimport { KeySigNote } from './keysignote.js';\nimport { ModifierContext } from './modifiercontext.js';\nimport { MultiMeasureRest } from './multimeasurerest.js';\nimport { NoteSubGroup } from './notesubgroup.js';\nimport { Ornament } from './ornament.js';\nimport { PedalMarking } from './pedalmarking.js';\nimport { Renderer } from './renderer.js';\nimport { RepeatNote } from './repeatnote.js';\nimport { Stave } from './stave.js';\nimport { StaveConnector } from './staveconnector.js';\nimport { StaveLine } from './staveline.js';\nimport { StaveNote } from './stavenote.js';\nimport { StaveTie } from './stavetie.js';\nimport { StringNumber } from './stringnumber.js';\nimport { System } from './system.js';\nimport { TabNote } from './tabnote.js';\nimport { TabStave } from './tabstave.js';\nimport { TextBracket } from './textbracket.js';\nimport { TextDynamics } from './textdynamics.js';\nimport { TextNote } from './textnote.js';\nimport { TickContext } from './tickcontext.js';\nimport { TimeSigNote } from './timesignote.js';\nimport { Tuplet } from './tuplet.js';\nimport { defined, log, RuntimeError } from './util.js';\nimport { VibratoBracket } from './vibratobracket.js';\nimport { Voice } from './voice.js';\nimport { isHTMLCanvas } from './web.js';\nfunction L() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  if (Factory.DEBUG) log('Vex.Flow.Factory', args);\n}\nclass Factory {\n  static newFromElementId(elementId) {\n    let width = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;\n    let height = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 200;\n    return new Factory({\n      renderer: {\n        elementId,\n        width,\n        height\n      }\n    });\n  }\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    L('New factory: ', options);\n    this.options = {\n      stave: {\n        space: 10\n      },\n      renderer: {\n        elementId: '',\n        width: 500,\n        height: 200,\n        background: '#FFF'\n      },\n      font: Factory.TEXT_FONT\n    };\n    this.setOptions(options);\n  }\n  reset() {\n    this.renderQ = [];\n    this.systems = [];\n    this.staves = [];\n    this.voices = [];\n    this.stave = undefined;\n  }\n  setOptions(options) {\n    this.options = Object.assign(Object.assign({}, this.options), options);\n    this.initRenderer();\n    this.reset();\n  }\n  initRenderer() {\n    const {\n      elementId,\n      width,\n      height,\n      background\n    } = this.options.renderer;\n    if (elementId == null) {\n      return;\n    }\n    if (elementId == '') {\n      L(this);\n      throw new RuntimeError('renderer.elementId not set in FactoryOptions');\n    }\n    let backend = this.options.renderer.backend;\n    if (backend === undefined) {\n      const elem = document.getElementById(elementId);\n      if (isHTMLCanvas(elem)) {\n        backend = Renderer.Backends.CANVAS;\n      } else {\n        backend = Renderer.Backends.SVG;\n      }\n    }\n    this.context = Renderer.buildContext(elementId, backend, width, height, background);\n  }\n  getContext() {\n    return this.context;\n  }\n  setContext(context) {\n    this.context = context;\n    return this;\n  }\n  getStave() {\n    return this.stave;\n  }\n  getVoices() {\n    return this.voices;\n  }\n  Stave(params) {\n    const staveSpace = this.options.stave.space;\n    const p = Object.assign({\n      x: 0,\n      y: 0,\n      width: this.options.renderer.width - staveSpace * 1.0,\n      options: {\n        spacing_between_lines_px: staveSpace * 1.0\n      }\n    }, params);\n    const stave = new Stave(p.x, p.y, p.width, p.options);\n    this.staves.push(stave);\n    stave.setContext(this.context);\n    this.stave = stave;\n    return stave;\n  }\n  TabStave(params) {\n    const staveSpace = this.options.stave.space;\n    const p = Object.assign({\n      x: 0,\n      y: 0,\n      width: this.options.renderer.width - staveSpace * 1.0,\n      options: {\n        spacing_between_lines_px: staveSpace * 1.3\n      }\n    }, params);\n    const stave = new TabStave(p.x, p.y, p.width, p.options);\n    this.staves.push(stave);\n    stave.setContext(this.context);\n    this.stave = stave;\n    return stave;\n  }\n  StaveNote(noteStruct) {\n    const note = new StaveNote(noteStruct);\n    if (this.stave) note.setStave(this.stave);\n    note.setContext(this.context);\n    this.renderQ.push(note);\n    return note;\n  }\n  GlyphNote(glyph, noteStruct, options) {\n    const note = new GlyphNote(glyph, noteStruct, options);\n    if (this.stave) note.setStave(this.stave);\n    note.setContext(this.context);\n    this.renderQ.push(note);\n    return note;\n  }\n  RepeatNote(type, noteStruct, options) {\n    const note = new RepeatNote(type, noteStruct, options);\n    if (this.stave) note.setStave(this.stave);\n    note.setContext(this.context);\n    this.renderQ.push(note);\n    return note;\n  }\n  GhostNote(noteStruct) {\n    const ghostNote = new GhostNote(noteStruct);\n    if (this.stave) ghostNote.setStave(this.stave);\n    ghostNote.setContext(this.context);\n    this.renderQ.push(ghostNote);\n    return ghostNote;\n  }\n  TextNote(noteStruct) {\n    const textNote = new TextNote(noteStruct);\n    if (this.stave) textNote.setStave(this.stave);\n    textNote.setContext(this.context);\n    this.renderQ.push(textNote);\n    return textNote;\n  }\n  BarNote() {\n    let params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const barNote = new BarNote(params.type);\n    if (this.stave) barNote.setStave(this.stave);\n    barNote.setContext(this.context);\n    this.renderQ.push(barNote);\n    return barNote;\n  }\n  ClefNote(params) {\n    const p = Object.assign({\n      type: 'treble',\n      options: {\n        size: 'default',\n        annotation: undefined\n      }\n    }, params);\n    const clefNote = new ClefNote(p.type, p.options.size, p.options.annotation);\n    if (this.stave) clefNote.setStave(this.stave);\n    clefNote.setContext(this.context);\n    this.renderQ.push(clefNote);\n    return clefNote;\n  }\n  TimeSigNote(params) {\n    const p = Object.assign({\n      time: '4/4'\n    }, params);\n    const timeSigNote = new TimeSigNote(p.time);\n    if (this.stave) timeSigNote.setStave(this.stave);\n    timeSigNote.setContext(this.context);\n    this.renderQ.push(timeSigNote);\n    return timeSigNote;\n  }\n  KeySigNote(params) {\n    const keySigNote = new KeySigNote(params.key, params.cancelKey, params.alterKey);\n    if (this.stave) keySigNote.setStave(this.stave);\n    keySigNote.setContext(this.context);\n    this.renderQ.push(keySigNote);\n    return keySigNote;\n  }\n  TabNote(noteStruct) {\n    const note = new TabNote(noteStruct);\n    if (this.stave) note.setStave(this.stave);\n    note.setContext(this.context);\n    this.renderQ.push(note);\n    return note;\n  }\n  GraceNote(noteStruct) {\n    const note = new GraceNote(noteStruct);\n    if (this.stave) note.setStave(this.stave);\n    note.setContext(this.context);\n    return note;\n  }\n  GraceNoteGroup(params) {\n    const group = new GraceNoteGroup(params.notes, params.slur);\n    group.setContext(this.context);\n    return group;\n  }\n  Accidental(params) {\n    const accid = new Accidental(params.type);\n    accid.setContext(this.context);\n    return accid;\n  }\n  Annotation(params) {\n    const p = Object.assign({\n      text: 'p',\n      hJustify: AnnotationHorizontalJustify.CENTER,\n      vJustify: AnnotationVerticalJustify.BOTTOM\n    }, params);\n    const annotation = new Annotation(p.text);\n    annotation.setJustification(p.hJustify);\n    annotation.setVerticalJustification(p.vJustify);\n    annotation.setFont(p.font);\n    annotation.setContext(this.context);\n    return annotation;\n  }\n  ChordSymbol(params) {\n    const p = Object.assign({\n      vJustify: 'top',\n      hJustify: 'center',\n      kerning: true,\n      reportWidth: true\n    }, params);\n    const chordSymbol = new ChordSymbol();\n    chordSymbol.setHorizontal(p.hJustify);\n    chordSymbol.setVertical(p.vJustify);\n    chordSymbol.setEnableKerning(p.kerning);\n    chordSymbol.setReportWidth(p.reportWidth);\n    if (typeof p.fontFamily === 'string' && typeof p.fontSize === 'number') {\n      if (typeof p.fontWeight === 'string') chordSymbol.setFont(p.fontFamily, p.fontSize, p.fontWeight);else chordSymbol.setFont(p.fontFamily, p.fontSize, '');\n    } else if (typeof p.fontSize === 'number') {\n      chordSymbol.setFontSize(p.fontSize);\n    }\n    chordSymbol.setContext(this.context);\n    return chordSymbol;\n  }\n  Articulation(params) {\n    var _a;\n    const articulation = new Articulation((_a = params === null || params === void 0 ? void 0 : params.type) !== null && _a !== void 0 ? _a : 'a.');\n    if ((params === null || params === void 0 ? void 0 : params.position) != undefined) articulation.setPosition(params.position);\n    if ((params === null || params === void 0 ? void 0 : params.betweenLines) != undefined) articulation.setBetweenLines(params.betweenLines);\n    articulation.setContext(this.context);\n    return articulation;\n  }\n  Ornament(type, params) {\n    const options = Object.assign({\n      type,\n      position: 0,\n      accidental: ''\n    }, params);\n    const ornament = new Ornament(type);\n    ornament.setPosition(options.position);\n    if (options.upperAccidental) {\n      ornament.setUpperAccidental(options.upperAccidental);\n    }\n    if (options.lowerAccidental) {\n      ornament.setLowerAccidental(options.lowerAccidental);\n    }\n    if (typeof options.delayed !== 'undefined') {\n      ornament.setDelayed(options.delayed);\n    }\n    ornament.setContext(this.context);\n    return ornament;\n  }\n  TextDynamics(params) {\n    const p = Object.assign({\n      text: 'p',\n      duration: 'q',\n      dots: 0,\n      line: 0\n    }, params);\n    const text = new TextDynamics({\n      text: p.text,\n      line: p.line,\n      duration: p.duration,\n      dots: p.dots\n    });\n    if (this.stave) text.setStave(this.stave);\n    text.setContext(this.context);\n    this.renderQ.push(text);\n    return text;\n  }\n  Fingering(params) {\n    const p = Object.assign({\n      number: '0',\n      position: 'left'\n    }, params);\n    const fingering = new FretHandFinger(p.number);\n    fingering.setPosition(p.position);\n    fingering.setContext(this.context);\n    return fingering;\n  }\n  StringNumber(params) {\n    let drawCircle = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    const stringNumber = new StringNumber(params.number);\n    stringNumber.setPosition(params.position);\n    stringNumber.setContext(this.context);\n    stringNumber.setDrawCircle(drawCircle);\n    return stringNumber;\n  }\n  TickContext() {\n    return new TickContext();\n  }\n  ModifierContext() {\n    return new ModifierContext();\n  }\n  MultiMeasureRest(params) {\n    const numMeasures = defined(params.number_of_measures, 'NoNumberOfMeasures');\n    const multiMeasureRest = new MultiMeasureRest(numMeasures, params);\n    multiMeasureRest.setContext(this.context);\n    this.renderQ.push(multiMeasureRest);\n    return multiMeasureRest;\n  }\n  Voice(params) {\n    const p = Object.assign({\n      time: '4/4'\n    }, params);\n    const voice = new Voice(p.time);\n    this.voices.push(voice);\n    return voice;\n  }\n  StaveConnector(params) {\n    const connector = new StaveConnector(params.top_stave, params.bottom_stave);\n    connector.setType(params.type).setContext(this.context);\n    this.renderQ.push(connector);\n    return connector;\n  }\n  Formatter(options) {\n    return new Formatter(options);\n  }\n  Tuplet(params) {\n    const p = Object.assign({\n      notes: [],\n      options: {}\n    }, params);\n    const tuplet = new Tuplet(p.notes, p.options).setContext(this.context);\n    this.renderQ.push(tuplet);\n    return tuplet;\n  }\n  Beam(params) {\n    var _a, _b, _c, _d, _e;\n    const beam = new Beam(params.notes, (_a = params.options) === null || _a === void 0 ? void 0 : _a.autoStem).setContext(this.context);\n    beam.breakSecondaryAt((_c = (_b = params.options) === null || _b === void 0 ? void 0 : _b.secondaryBeamBreaks) !== null && _c !== void 0 ? _c : []);\n    if ((_d = params.options) === null || _d === void 0 ? void 0 : _d.partialBeamDirections) {\n      Object.entries((_e = params.options) === null || _e === void 0 ? void 0 : _e.partialBeamDirections).forEach(_ref => {\n        let [noteIndex, direction] = _ref;\n        beam.setPartialBeamSideAt(Number(noteIndex), direction);\n      });\n    }\n    this.renderQ.push(beam);\n    return beam;\n  }\n  Curve(params) {\n    const curve = new Curve(params.from, params.to, params.options).setContext(this.context);\n    this.renderQ.push(curve);\n    return curve;\n  }\n  StaveTie(params) {\n    var _a;\n    const tie = new StaveTie({\n      first_note: params.from,\n      last_note: params.to,\n      first_indices: params.first_indices,\n      last_indices: params.last_indices\n    }, params.text);\n    if ((_a = params.options) === null || _a === void 0 ? void 0 : _a.direction) tie.setDirection(params.options.direction);\n    tie.setContext(this.context);\n    this.renderQ.push(tie);\n    return tie;\n  }\n  StaveLine(params) {\n    var _a, _b;\n    const line = new StaveLine({\n      first_note: params.from,\n      last_note: params.to,\n      first_indices: params.first_indices,\n      last_indices: params.last_indices\n    });\n    if ((_a = params.options) === null || _a === void 0 ? void 0 : _a.text) line.setText(params.options.text);\n    if ((_b = params.options) === null || _b === void 0 ? void 0 : _b.font) line.setFont(params.options.font);\n    line.setContext(this.context);\n    this.renderQ.push(line);\n    return line;\n  }\n  VibratoBracket(params) {\n    const vibratoBracket = new VibratoBracket({\n      start: params.from,\n      stop: params.to\n    });\n    if (params.options.line) vibratoBracket.setLine(params.options.line);\n    if (params.options.harsh) vibratoBracket.setHarsh(params.options.harsh);\n    vibratoBracket.setContext(this.context);\n    this.renderQ.push(vibratoBracket);\n    return vibratoBracket;\n  }\n  TextBracket(params) {\n    const textBracket = new TextBracket({\n      start: params.from,\n      stop: params.to,\n      text: params.text,\n      superscript: params.options.superscript,\n      position: params.options.position\n    });\n    if (params.options.line) textBracket.setLine(params.options.line);\n    if (params.options.font) textBracket.setFont(params.options.font);\n    textBracket.setContext(this.context);\n    this.renderQ.push(textBracket);\n    return textBracket;\n  }\n  System() {\n    let params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    params.factory = this;\n    const system = new System(params).setContext(this.context);\n    this.systems.push(system);\n    return system;\n  }\n  EasyScore() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    options.factory = this;\n    return new EasyScore(options);\n  }\n  PedalMarking(params) {\n    const p = Object.assign({\n      notes: [],\n      options: {\n        style: 'mixed'\n      }\n    }, params);\n    const pedal = new PedalMarking(p.notes);\n    pedal.setType(PedalMarking.typeString[p.options.style]);\n    pedal.setContext(this.context);\n    this.renderQ.push(pedal);\n    return pedal;\n  }\n  NoteSubGroup(params) {\n    const p = Object.assign({\n      notes: []\n    }, params);\n    const group = new NoteSubGroup(p.notes);\n    group.setContext(this.context);\n    return group;\n  }\n  draw() {\n    const ctx = this.context;\n    this.systems.forEach(s => s.setContext(ctx).format());\n    this.staves.forEach(s => s.setContext(ctx).draw());\n    this.voices.forEach(v => v.setContext(ctx).draw());\n    this.renderQ.forEach(e => {\n      if (!e.isRendered()) e.setContext(ctx).draw();\n    });\n    this.systems.forEach(s => s.setContext(ctx).draw());\n    this.reset();\n  }\n}\nFactory.DEBUG = false;\nFactory.TEXT_FONT = Object.assign({}, Element.TEXT_FONT);\nexport { Factory };","map":{"version":3,"names":["Accidental","Annotation","AnnotationHorizontalJustify","AnnotationVerticalJustify","Articulation","BarNote","Beam","ChordSymbol","ClefNote","Curve","EasyScore","Element","Formatter","FretHandFinger","GhostNote","GlyphNote","GraceNote","GraceNoteGroup","KeySigNote","ModifierContext","MultiMeasureRest","NoteSubGroup","Ornament","PedalMarking","Renderer","RepeatNote","Stave","StaveConnector","StaveLine","StaveNote","StaveTie","StringNumber","System","TabNote","TabStave","TextBracket","TextDynamics","TextNote","TickContext","TimeSigNote","Tuplet","defined","log","RuntimeError","VibratoBracket","Voice","isHTMLCanvas","L","_len","arguments","length","args","Array","_key","Factory","DEBUG","newFromElementId","elementId","width","undefined","height","renderer","constructor","options","stave","space","background","font","TEXT_FONT","setOptions","reset","renderQ","systems","staves","voices","Object","assign","initRenderer","backend","elem","document","getElementById","Backends","CANVAS","SVG","context","buildContext","getContext","setContext","getStave","getVoices","params","staveSpace","p","x","y","spacing_between_lines_px","push","noteStruct","note","setStave","glyph","type","ghostNote","textNote","barNote","size","annotation","clefNote","time","timeSigNote","keySigNote","key","cancelKey","alterKey","group","notes","slur","accid","text","hJustify","CENTER","vJustify","BOTTOM","setJustification","setVerticalJustification","setFont","kerning","reportWidth","chordSymbol","setHorizontal","setVertical","setEnableKerning","setReportWidth","fontFamily","fontSize","fontWeight","setFontSize","_a","articulation","position","setPosition","betweenLines","setBetweenLines","accidental","ornament","upperAccidental","setUpperAccidental","lowerAccidental","setLowerAccidental","delayed","setDelayed","duration","dots","line","Fingering","number","fingering","drawCircle","stringNumber","setDrawCircle","numMeasures","number_of_measures","multiMeasureRest","voice","connector","top_stave","bottom_stave","setType","tuplet","_b","_c","_d","_e","beam","autoStem","breakSecondaryAt","secondaryBeamBreaks","partialBeamDirections","entries","forEach","_ref","noteIndex","direction","setPartialBeamSideAt","Number","curve","from","to","tie","first_note","last_note","first_indices","last_indices","setDirection","setText","vibratoBracket","start","stop","setLine","harsh","setHarsh","textBracket","superscript","factory","system","style","pedal","typeString","draw","ctx","s","format","v","e","isRendered"],"sources":["/Users/lang/Documents/code/Song2Notation/frontend/node_modules/vexflow/build/esm/src/factory.js"],"sourcesContent":["import { Accidental } from './accidental.js';\nimport { Annotation, AnnotationHorizontalJustify, AnnotationVerticalJustify } from './annotation.js';\nimport { Articulation } from './articulation.js';\nimport { BarNote } from './barnote.js';\nimport { Beam } from './beam.js';\nimport { ChordSymbol } from './chordsymbol.js';\nimport { ClefNote } from './clefnote.js';\nimport { Curve } from './curve.js';\nimport { EasyScore } from './easyscore.js';\nimport { Element } from './element.js';\nimport { Formatter } from './formatter.js';\nimport { FretHandFinger } from './frethandfinger.js';\nimport { GhostNote } from './ghostnote.js';\nimport { GlyphNote } from './glyphnote.js';\nimport { GraceNote } from './gracenote.js';\nimport { GraceNoteGroup } from './gracenotegroup.js';\nimport { KeySigNote } from './keysignote.js';\nimport { ModifierContext } from './modifiercontext.js';\nimport { MultiMeasureRest } from './multimeasurerest.js';\nimport { NoteSubGroup } from './notesubgroup.js';\nimport { Ornament } from './ornament.js';\nimport { PedalMarking } from './pedalmarking.js';\nimport { Renderer } from './renderer.js';\nimport { RepeatNote } from './repeatnote.js';\nimport { Stave } from './stave.js';\nimport { StaveConnector } from './staveconnector.js';\nimport { StaveLine } from './staveline.js';\nimport { StaveNote } from './stavenote.js';\nimport { StaveTie } from './stavetie.js';\nimport { StringNumber } from './stringnumber.js';\nimport { System } from './system.js';\nimport { TabNote } from './tabnote.js';\nimport { TabStave } from './tabstave.js';\nimport { TextBracket } from './textbracket.js';\nimport { TextDynamics } from './textdynamics.js';\nimport { TextNote } from './textnote.js';\nimport { TickContext } from './tickcontext.js';\nimport { TimeSigNote } from './timesignote.js';\nimport { Tuplet } from './tuplet.js';\nimport { defined, log, RuntimeError } from './util.js';\nimport { VibratoBracket } from './vibratobracket.js';\nimport { Voice } from './voice.js';\nimport { isHTMLCanvas } from './web.js';\nfunction L(...args) {\n    if (Factory.DEBUG)\n        log('Vex.Flow.Factory', args);\n}\nclass Factory {\n    static newFromElementId(elementId, width = 500, height = 200) {\n        return new Factory({ renderer: { elementId, width, height } });\n    }\n    constructor(options = {}) {\n        L('New factory: ', options);\n        this.options = {\n            stave: {\n                space: 10,\n            },\n            renderer: {\n                elementId: '',\n                width: 500,\n                height: 200,\n                background: '#FFF',\n            },\n            font: Factory.TEXT_FONT,\n        };\n        this.setOptions(options);\n    }\n    reset() {\n        this.renderQ = [];\n        this.systems = [];\n        this.staves = [];\n        this.voices = [];\n        this.stave = undefined;\n    }\n    setOptions(options) {\n        this.options = Object.assign(Object.assign({}, this.options), options);\n        this.initRenderer();\n        this.reset();\n    }\n    initRenderer() {\n        const { elementId, width, height, background } = this.options.renderer;\n        if (elementId == null) {\n            return;\n        }\n        if (elementId == '') {\n            L(this);\n            throw new RuntimeError('renderer.elementId not set in FactoryOptions');\n        }\n        let backend = this.options.renderer.backend;\n        if (backend === undefined) {\n            const elem = document.getElementById(elementId);\n            if (isHTMLCanvas(elem)) {\n                backend = Renderer.Backends.CANVAS;\n            }\n            else {\n                backend = Renderer.Backends.SVG;\n            }\n        }\n        this.context = Renderer.buildContext(elementId, backend, width, height, background);\n    }\n    getContext() {\n        return this.context;\n    }\n    setContext(context) {\n        this.context = context;\n        return this;\n    }\n    getStave() {\n        return this.stave;\n    }\n    getVoices() {\n        return this.voices;\n    }\n    Stave(params) {\n        const staveSpace = this.options.stave.space;\n        const p = Object.assign({ x: 0, y: 0, width: this.options.renderer.width - staveSpace * 1.0, options: { spacing_between_lines_px: staveSpace * 1.0 } }, params);\n        const stave = new Stave(p.x, p.y, p.width, p.options);\n        this.staves.push(stave);\n        stave.setContext(this.context);\n        this.stave = stave;\n        return stave;\n    }\n    TabStave(params) {\n        const staveSpace = this.options.stave.space;\n        const p = Object.assign({ x: 0, y: 0, width: this.options.renderer.width - staveSpace * 1.0, options: { spacing_between_lines_px: staveSpace * 1.3 } }, params);\n        const stave = new TabStave(p.x, p.y, p.width, p.options);\n        this.staves.push(stave);\n        stave.setContext(this.context);\n        this.stave = stave;\n        return stave;\n    }\n    StaveNote(noteStruct) {\n        const note = new StaveNote(noteStruct);\n        if (this.stave)\n            note.setStave(this.stave);\n        note.setContext(this.context);\n        this.renderQ.push(note);\n        return note;\n    }\n    GlyphNote(glyph, noteStruct, options) {\n        const note = new GlyphNote(glyph, noteStruct, options);\n        if (this.stave)\n            note.setStave(this.stave);\n        note.setContext(this.context);\n        this.renderQ.push(note);\n        return note;\n    }\n    RepeatNote(type, noteStruct, options) {\n        const note = new RepeatNote(type, noteStruct, options);\n        if (this.stave)\n            note.setStave(this.stave);\n        note.setContext(this.context);\n        this.renderQ.push(note);\n        return note;\n    }\n    GhostNote(noteStruct) {\n        const ghostNote = new GhostNote(noteStruct);\n        if (this.stave)\n            ghostNote.setStave(this.stave);\n        ghostNote.setContext(this.context);\n        this.renderQ.push(ghostNote);\n        return ghostNote;\n    }\n    TextNote(noteStruct) {\n        const textNote = new TextNote(noteStruct);\n        if (this.stave)\n            textNote.setStave(this.stave);\n        textNote.setContext(this.context);\n        this.renderQ.push(textNote);\n        return textNote;\n    }\n    BarNote(params = {}) {\n        const barNote = new BarNote(params.type);\n        if (this.stave)\n            barNote.setStave(this.stave);\n        barNote.setContext(this.context);\n        this.renderQ.push(barNote);\n        return barNote;\n    }\n    ClefNote(params) {\n        const p = Object.assign({ type: 'treble', options: {\n                size: 'default',\n                annotation: undefined,\n            } }, params);\n        const clefNote = new ClefNote(p.type, p.options.size, p.options.annotation);\n        if (this.stave)\n            clefNote.setStave(this.stave);\n        clefNote.setContext(this.context);\n        this.renderQ.push(clefNote);\n        return clefNote;\n    }\n    TimeSigNote(params) {\n        const p = Object.assign({ time: '4/4' }, params);\n        const timeSigNote = new TimeSigNote(p.time);\n        if (this.stave)\n            timeSigNote.setStave(this.stave);\n        timeSigNote.setContext(this.context);\n        this.renderQ.push(timeSigNote);\n        return timeSigNote;\n    }\n    KeySigNote(params) {\n        const keySigNote = new KeySigNote(params.key, params.cancelKey, params.alterKey);\n        if (this.stave)\n            keySigNote.setStave(this.stave);\n        keySigNote.setContext(this.context);\n        this.renderQ.push(keySigNote);\n        return keySigNote;\n    }\n    TabNote(noteStruct) {\n        const note = new TabNote(noteStruct);\n        if (this.stave)\n            note.setStave(this.stave);\n        note.setContext(this.context);\n        this.renderQ.push(note);\n        return note;\n    }\n    GraceNote(noteStruct) {\n        const note = new GraceNote(noteStruct);\n        if (this.stave)\n            note.setStave(this.stave);\n        note.setContext(this.context);\n        return note;\n    }\n    GraceNoteGroup(params) {\n        const group = new GraceNoteGroup(params.notes, params.slur);\n        group.setContext(this.context);\n        return group;\n    }\n    Accidental(params) {\n        const accid = new Accidental(params.type);\n        accid.setContext(this.context);\n        return accid;\n    }\n    Annotation(params) {\n        const p = Object.assign({ text: 'p', hJustify: AnnotationHorizontalJustify.CENTER, vJustify: AnnotationVerticalJustify.BOTTOM }, params);\n        const annotation = new Annotation(p.text);\n        annotation.setJustification(p.hJustify);\n        annotation.setVerticalJustification(p.vJustify);\n        annotation.setFont(p.font);\n        annotation.setContext(this.context);\n        return annotation;\n    }\n    ChordSymbol(params) {\n        const p = Object.assign({ vJustify: 'top', hJustify: 'center', kerning: true, reportWidth: true }, params);\n        const chordSymbol = new ChordSymbol();\n        chordSymbol.setHorizontal(p.hJustify);\n        chordSymbol.setVertical(p.vJustify);\n        chordSymbol.setEnableKerning(p.kerning);\n        chordSymbol.setReportWidth(p.reportWidth);\n        if (typeof p.fontFamily === 'string' && typeof p.fontSize === 'number') {\n            if (typeof p.fontWeight === 'string')\n                chordSymbol.setFont(p.fontFamily, p.fontSize, p.fontWeight);\n            else\n                chordSymbol.setFont(p.fontFamily, p.fontSize, '');\n        }\n        else if (typeof p.fontSize === 'number') {\n            chordSymbol.setFontSize(p.fontSize);\n        }\n        chordSymbol.setContext(this.context);\n        return chordSymbol;\n    }\n    Articulation(params) {\n        var _a;\n        const articulation = new Articulation((_a = params === null || params === void 0 ? void 0 : params.type) !== null && _a !== void 0 ? _a : 'a.');\n        if ((params === null || params === void 0 ? void 0 : params.position) != undefined)\n            articulation.setPosition(params.position);\n        if ((params === null || params === void 0 ? void 0 : params.betweenLines) != undefined)\n            articulation.setBetweenLines(params.betweenLines);\n        articulation.setContext(this.context);\n        return articulation;\n    }\n    Ornament(type, params) {\n        const options = Object.assign({ type, position: 0, accidental: '' }, params);\n        const ornament = new Ornament(type);\n        ornament.setPosition(options.position);\n        if (options.upperAccidental) {\n            ornament.setUpperAccidental(options.upperAccidental);\n        }\n        if (options.lowerAccidental) {\n            ornament.setLowerAccidental(options.lowerAccidental);\n        }\n        if (typeof options.delayed !== 'undefined') {\n            ornament.setDelayed(options.delayed);\n        }\n        ornament.setContext(this.context);\n        return ornament;\n    }\n    TextDynamics(params) {\n        const p = Object.assign({ text: 'p', duration: 'q', dots: 0, line: 0 }, params);\n        const text = new TextDynamics({\n            text: p.text,\n            line: p.line,\n            duration: p.duration,\n            dots: p.dots,\n        });\n        if (this.stave)\n            text.setStave(this.stave);\n        text.setContext(this.context);\n        this.renderQ.push(text);\n        return text;\n    }\n    Fingering(params) {\n        const p = Object.assign({ number: '0', position: 'left' }, params);\n        const fingering = new FretHandFinger(p.number);\n        fingering.setPosition(p.position);\n        fingering.setContext(this.context);\n        return fingering;\n    }\n    StringNumber(params, drawCircle = true) {\n        const stringNumber = new StringNumber(params.number);\n        stringNumber.setPosition(params.position);\n        stringNumber.setContext(this.context);\n        stringNumber.setDrawCircle(drawCircle);\n        return stringNumber;\n    }\n    TickContext() {\n        return new TickContext();\n    }\n    ModifierContext() {\n        return new ModifierContext();\n    }\n    MultiMeasureRest(params) {\n        const numMeasures = defined(params.number_of_measures, 'NoNumberOfMeasures');\n        const multiMeasureRest = new MultiMeasureRest(numMeasures, params);\n        multiMeasureRest.setContext(this.context);\n        this.renderQ.push(multiMeasureRest);\n        return multiMeasureRest;\n    }\n    Voice(params) {\n        const p = Object.assign({ time: '4/4' }, params);\n        const voice = new Voice(p.time);\n        this.voices.push(voice);\n        return voice;\n    }\n    StaveConnector(params) {\n        const connector = new StaveConnector(params.top_stave, params.bottom_stave);\n        connector.setType(params.type).setContext(this.context);\n        this.renderQ.push(connector);\n        return connector;\n    }\n    Formatter(options) {\n        return new Formatter(options);\n    }\n    Tuplet(params) {\n        const p = Object.assign({ notes: [], options: {} }, params);\n        const tuplet = new Tuplet(p.notes, p.options).setContext(this.context);\n        this.renderQ.push(tuplet);\n        return tuplet;\n    }\n    Beam(params) {\n        var _a, _b, _c, _d, _e;\n        const beam = new Beam(params.notes, (_a = params.options) === null || _a === void 0 ? void 0 : _a.autoStem).setContext(this.context);\n        beam.breakSecondaryAt((_c = (_b = params.options) === null || _b === void 0 ? void 0 : _b.secondaryBeamBreaks) !== null && _c !== void 0 ? _c : []);\n        if ((_d = params.options) === null || _d === void 0 ? void 0 : _d.partialBeamDirections) {\n            Object.entries((_e = params.options) === null || _e === void 0 ? void 0 : _e.partialBeamDirections).forEach(([noteIndex, direction]) => {\n                beam.setPartialBeamSideAt(Number(noteIndex), direction);\n            });\n        }\n        this.renderQ.push(beam);\n        return beam;\n    }\n    Curve(params) {\n        const curve = new Curve(params.from, params.to, params.options).setContext(this.context);\n        this.renderQ.push(curve);\n        return curve;\n    }\n    StaveTie(params) {\n        var _a;\n        const tie = new StaveTie({\n            first_note: params.from,\n            last_note: params.to,\n            first_indices: params.first_indices,\n            last_indices: params.last_indices,\n        }, params.text);\n        if ((_a = params.options) === null || _a === void 0 ? void 0 : _a.direction)\n            tie.setDirection(params.options.direction);\n        tie.setContext(this.context);\n        this.renderQ.push(tie);\n        return tie;\n    }\n    StaveLine(params) {\n        var _a, _b;\n        const line = new StaveLine({\n            first_note: params.from,\n            last_note: params.to,\n            first_indices: params.first_indices,\n            last_indices: params.last_indices,\n        });\n        if ((_a = params.options) === null || _a === void 0 ? void 0 : _a.text)\n            line.setText(params.options.text);\n        if ((_b = params.options) === null || _b === void 0 ? void 0 : _b.font)\n            line.setFont(params.options.font);\n        line.setContext(this.context);\n        this.renderQ.push(line);\n        return line;\n    }\n    VibratoBracket(params) {\n        const vibratoBracket = new VibratoBracket({\n            start: params.from,\n            stop: params.to,\n        });\n        if (params.options.line)\n            vibratoBracket.setLine(params.options.line);\n        if (params.options.harsh)\n            vibratoBracket.setHarsh(params.options.harsh);\n        vibratoBracket.setContext(this.context);\n        this.renderQ.push(vibratoBracket);\n        return vibratoBracket;\n    }\n    TextBracket(params) {\n        const textBracket = new TextBracket({\n            start: params.from,\n            stop: params.to,\n            text: params.text,\n            superscript: params.options.superscript,\n            position: params.options.position,\n        });\n        if (params.options.line)\n            textBracket.setLine(params.options.line);\n        if (params.options.font)\n            textBracket.setFont(params.options.font);\n        textBracket.setContext(this.context);\n        this.renderQ.push(textBracket);\n        return textBracket;\n    }\n    System(params = {}) {\n        params.factory = this;\n        const system = new System(params).setContext(this.context);\n        this.systems.push(system);\n        return system;\n    }\n    EasyScore(options = {}) {\n        options.factory = this;\n        return new EasyScore(options);\n    }\n    PedalMarking(params) {\n        const p = Object.assign({ notes: [], options: {\n                style: 'mixed',\n            } }, params);\n        const pedal = new PedalMarking(p.notes);\n        pedal.setType(PedalMarking.typeString[p.options.style]);\n        pedal.setContext(this.context);\n        this.renderQ.push(pedal);\n        return pedal;\n    }\n    NoteSubGroup(params) {\n        const p = Object.assign({ notes: [] }, params);\n        const group = new NoteSubGroup(p.notes);\n        group.setContext(this.context);\n        return group;\n    }\n    draw() {\n        const ctx = this.context;\n        this.systems.forEach((s) => s.setContext(ctx).format());\n        this.staves.forEach((s) => s.setContext(ctx).draw());\n        this.voices.forEach((v) => v.setContext(ctx).draw());\n        this.renderQ.forEach((e) => {\n            if (!e.isRendered())\n                e.setContext(ctx).draw();\n        });\n        this.systems.forEach((s) => s.setContext(ctx).draw());\n        this.reset();\n    }\n}\nFactory.DEBUG = false;\nFactory.TEXT_FONT = Object.assign({}, Element.TEXT_FONT);\nexport { Factory };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}