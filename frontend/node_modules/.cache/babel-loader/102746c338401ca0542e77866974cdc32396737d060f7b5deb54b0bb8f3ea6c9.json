{"ast":null,"code":"import { Note } from './note.js';\nimport { TickContext } from './tickcontext.js';\nimport { log } from './util.js';\nfunction L() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  if (Crescendo.DEBUG) log('Vex.Flow.Crescendo', args);\n}\nfunction renderHairpin(ctx, params) {\n  const begin_x = params.begin_x;\n  const end_x = params.end_x;\n  const y = params.y;\n  const half_height = params.height / 2;\n  ctx.beginPath();\n  if (params.reverse) {\n    ctx.moveTo(begin_x, y - half_height);\n    ctx.lineTo(end_x, y);\n    ctx.lineTo(begin_x, y + half_height);\n  } else {\n    ctx.moveTo(end_x, y - half_height);\n    ctx.lineTo(begin_x, y);\n    ctx.lineTo(end_x, y + half_height);\n  }\n  ctx.stroke();\n  ctx.closePath();\n}\nclass Crescendo extends Note {\n  static get CATEGORY() {\n    return \"Crescendo\";\n  }\n  constructor(noteStruct) {\n    super(noteStruct);\n    this.options = {\n      extend_left: 0,\n      extend_right: 0,\n      y_shift: 0\n    };\n    this.decrescendo = false;\n    this.line = noteStruct.line || 0;\n    this.height = 15;\n  }\n  setLine(line) {\n    this.line = line;\n    return this;\n  }\n  setHeight(height) {\n    this.height = height;\n    return this;\n  }\n  setDecrescendo(decresc) {\n    this.decrescendo = decresc;\n    return this;\n  }\n  preFormat() {\n    this.preFormatted = true;\n    return this;\n  }\n  draw() {\n    const ctx = this.checkContext();\n    const stave = this.checkStave();\n    this.setRendered();\n    const tick_context = this.getTickContext();\n    const next_context = TickContext.getNextContext(tick_context);\n    const begin_x = this.getAbsoluteX();\n    const end_x = next_context ? next_context.getX() : stave.getX() + stave.getWidth();\n    const y = stave.getYForLine(this.line + -3) + 1;\n    L('Drawing ', this.decrescendo ? 'decrescendo ' : 'crescendo ', this.height, 'x', begin_x - end_x);\n    renderHairpin(ctx, {\n      begin_x: begin_x - this.options.extend_left,\n      end_x: end_x + this.options.extend_right,\n      y: y + this.options.y_shift,\n      height: this.height,\n      reverse: this.decrescendo\n    });\n  }\n}\nCrescendo.DEBUG = false;\nexport { Crescendo };","map":{"version":3,"names":["Note","TickContext","log","L","_len","arguments","length","args","Array","_key","Crescendo","DEBUG","renderHairpin","ctx","params","begin_x","end_x","y","half_height","height","beginPath","reverse","moveTo","lineTo","stroke","closePath","CATEGORY","constructor","noteStruct","options","extend_left","extend_right","y_shift","decrescendo","line","setLine","setHeight","setDecrescendo","decresc","preFormat","preFormatted","draw","checkContext","stave","checkStave","setRendered","tick_context","getTickContext","next_context","getNextContext","getAbsoluteX","getX","getWidth","getYForLine"],"sources":["/Users/lang/Documents/code/Song2Notation/frontend/node_modules/vexflow/build/esm/src/crescendo.js"],"sourcesContent":["import { Note } from './note.js';\nimport { TickContext } from './tickcontext.js';\nimport { log } from './util.js';\nfunction L(...args) {\n    if (Crescendo.DEBUG)\n        log('Vex.Flow.Crescendo', args);\n}\nfunction renderHairpin(ctx, params) {\n    const begin_x = params.begin_x;\n    const end_x = params.end_x;\n    const y = params.y;\n    const half_height = params.height / 2;\n    ctx.beginPath();\n    if (params.reverse) {\n        ctx.moveTo(begin_x, y - half_height);\n        ctx.lineTo(end_x, y);\n        ctx.lineTo(begin_x, y + half_height);\n    }\n    else {\n        ctx.moveTo(end_x, y - half_height);\n        ctx.lineTo(begin_x, y);\n        ctx.lineTo(end_x, y + half_height);\n    }\n    ctx.stroke();\n    ctx.closePath();\n}\nclass Crescendo extends Note {\n    static get CATEGORY() {\n        return \"Crescendo\";\n    }\n    constructor(noteStruct) {\n        super(noteStruct);\n        this.options = {\n            extend_left: 0,\n            extend_right: 0,\n            y_shift: 0,\n        };\n        this.decrescendo = false;\n        this.line = noteStruct.line || 0;\n        this.height = 15;\n    }\n    setLine(line) {\n        this.line = line;\n        return this;\n    }\n    setHeight(height) {\n        this.height = height;\n        return this;\n    }\n    setDecrescendo(decresc) {\n        this.decrescendo = decresc;\n        return this;\n    }\n    preFormat() {\n        this.preFormatted = true;\n        return this;\n    }\n    draw() {\n        const ctx = this.checkContext();\n        const stave = this.checkStave();\n        this.setRendered();\n        const tick_context = this.getTickContext();\n        const next_context = TickContext.getNextContext(tick_context);\n        const begin_x = this.getAbsoluteX();\n        const end_x = next_context ? next_context.getX() : stave.getX() + stave.getWidth();\n        const y = stave.getYForLine(this.line + -3) + 1;\n        L('Drawing ', this.decrescendo ? 'decrescendo ' : 'crescendo ', this.height, 'x', begin_x - end_x);\n        renderHairpin(ctx, {\n            begin_x: begin_x - this.options.extend_left,\n            end_x: end_x + this.options.extend_right,\n            y: y + this.options.y_shift,\n            height: this.height,\n            reverse: this.decrescendo,\n        });\n    }\n}\nCrescendo.DEBUG = false;\nexport { Crescendo };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}